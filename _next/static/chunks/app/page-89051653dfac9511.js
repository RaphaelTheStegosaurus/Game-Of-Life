(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1353:e=>{e.exports={board:"cell_board__qyaq2",cell:"cell_cell__IRlUc",alive:"cell_alive__ebZin"}},2363:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>x});var l=t(5155),o=t(9243),r=t.n(o),s=t(2115),a=t(1353),c=t.n(a);let u=function(e){let{index:n,statusLife:t,onStatusChange:o}=e;return(0,l.jsx)("button",{onClick:()=>void o(n,!t),id:"n".concat(n),className:"".concat(c().cell," ").concat(t?c().alive:"")})},i=(0,s.forwardRef)((e,n)=>{let{cols:t,rows:o,currentGeneration:r,onStatusChange:a,onGenerationComplete:i}=e,C=(e,n)=>n*t+e,d=(e,n)=>e<0?n-1:e>=n?0:e,_=(e,n)=>[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]].map(l=>[d(e+l[0],t),d(n+l[1],o)]),f=(e,n)=>e&&2===n||3===n,h=()=>{let e=[...r];for(let n=0;n<o;n++)for(let l=0;l<t;l++){let t=C(l,n),o=_(l,n).reduce((e,n)=>{let[t,l]=n;return e+ +!!r[C(t,l)]},0),s=f(r[t],o);e[t]=s}i(e)};(0,s.useImperativeHandle)(n,()=>({checkGrid:h}));let x=Array(t*o).fill(null).map((e,n)=>(0,l.jsx)(u,{statusLife:r[n],onStatusChange:a,index:n},n));return(0,l.jsx)("main",{className:"".concat(c().board),style:{gridTemplateColumns:"repeat(".concat(t,", 1fr)"),gridTemplateRows:"repeat(".concat(o,", 1fr)")},children:x})});i.displayName="Cell_Grid_Manager";let C=(0,s.createContext)(null);var d=t(3299),_=t.n(d);let f=function(e){let{ParameterToChange:n}=e,t=(0,s.useContext)(C),o="Col"===n?null==t?void 0:t.cols:null==t?void 0:t.rows,r="Col"===n?null==t?void 0:t.setCols:null==t?void 0:t.setRows;return(0,l.jsxs)("div",{className:"".concat(_().ControlRangePanel," ").concat(_().ControlButton),children:[(0,l.jsxs)("span",{className:_().ControlRangeLabel,children:[n,": ",o]}),(0,l.jsx)("button",{onClick:()=>{r(1)},className:"".concat(_().ControlRangeButton," ").concat(_().ControlRangeButtonMore),children:"+"}),(0,l.jsx)("button",{onClick:()=>{r(-1)},className:"".concat(_().ControlRangeButton," ").concat(_().ControlRangeButtonLess),children:"-"})]})};function h(e){let{isRunning:n,setIsRunning:t,onNextStep:o,onResetGeneration:r,nElements:s}=e;return(0,l.jsxs)("aside",{className:_().Panel,children:[(0,l.jsx)("button",{className:_().ControlButton,onClick:()=>t(!n),children:(0,l.jsx)("span",{children:n?"⏸️ Stop":"▶️ Start"})}),(0,l.jsxs)("button",{className:_().ControlButton,onClick:o,disabled:n,children:[(0,l.jsx)("span",{children:"➡️"}),"Next Step"]}),(0,l.jsxs)("button",{className:_().ControlButton,onClick:()=>{r(Array(s).fill(!1))},disabled:n,children:[(0,l.jsx)("span",{className:_().Icon,children:"↺"})," Reset"]}),(0,l.jsx)(f,{ParameterToChange:"Col"}),(0,l.jsx)(f,{ParameterToChange:"Row"})]})}function x(){let[e,n]=(0,s.useState)({cols:20,rows:10}),[t,o]=(0,s.useState)(e.cols*e.rows);(0,s.useEffect)(()=>{o(e.cols*e.rows)},[e]),(0,s.useEffect)(()=>{a.length!==t&&c(Array(t).fill(!1))},[t]);let[a,c]=(0,s.useState)(Array(t).fill(!1)),[u,d]=(0,s.useState)(!1),_=(0,s.useCallback)((e,n)=>{c(t=>{let l=[...t];return l[e]=n,l})},[]),f=(0,s.useCallback)(e=>{c(e),e.every(e=>!e)&&d(!1)},[]),x=(0,s.useRef)(null);return(0,s.useEffect)(()=>{let e=null;return u&&x.current&&(e=setInterval(()=>{var e;null==(e=x.current)||e.checkGrid()},500)),()=>{e&&clearInterval(e)}},[u,x]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(C.Provider,{value:{cols:e.cols,rows:e.rows,setCols:e=>{n(n=>{let t=n.cols+e;return t<5||t>50?n:{...n,cols:t}})},setRows:e=>{n(n=>{let t=n.rows+e;return t<5||t>50?n:{...n,rows:t}})}},children:[(0,l.jsx)("h1",{className:"".concat(r().title),children:"Game of Life - John Conway"}),(0,l.jsx)(i,{onGenerationComplete:f,ref:x,cols:e.cols,rows:e.rows,currentGeneration:a,onStatusChange:_}),(0,l.jsx)(h,{isRunning:u,setIsRunning:d,onNextStep:()=>{var e;return null==(e=x.current)?void 0:e.checkGrid()},onResetGeneration:f,nElements:t})]})})}},3299:e=>{e.exports={Panel:"controlls_Panel__uBiVs",ControlButton:"controlls_ControlButton__qOYUa",Icon:"controlls_Icon__WfIOt",ControlRangePanel:"controlls_ControlRangePanel__DoapQ",ControlRangeLabel:"controlls_ControlRangeLabel__cKT5s",ControlRangeButtonMore:"controlls_ControlRangeButtonMore__MIFLP",ControlRangeButtonLess:"controlls_ControlRangeButtonLess__RhuGT",ControlRangeButton:"controlls_ControlRangeButton__7RMfM"}},6956:(e,n,t)=>{Promise.resolve().then(t.bind(t,2363))},9243:e=>{e.exports={title:"page_title__po7na"}}},e=>{e.O(0,[550,441,255,358],()=>e(e.s=6956)),_N_E=e.O()}]);